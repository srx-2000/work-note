## 信息熵

## 介绍及公式推导

​	所谓信息熵【于1948 年由香农提出】，主要是为了说明一个概率模型中各种情况下的概率分布，信息熵的值越大，则说明这些情况的概率分布越分散【换句话说就是情况的确定程度越小】，而信息熵的值越小，则说明这些情况的概率分布越集中【换句话说就是情况的确定程度越大】。

​	在知道信息熵是什么之后便是如何理解它，这其中首先要确定的是信息熵的一个重要应用：对于信息的压缩。

​	比如这里有一个硬币【理想情况下，认为正反面出现的概率相同，都是0.5】，为了表示出这个硬币掷出之后的所有可能性，那么我们可能需要1 bit来表示，即：0表示反面，1表示正面。同样的，如果这里有一个转盘，其中有8个等大小的区域，随着转盘指针转动，要表示这个指针到底落在转盘的哪个区域，我们则需要3 bit来表示，即：000、001、010、011、100、101、110、111，他们分别表示了一种可能性。这样我们就把原有的8个可能性压缩到了这3 bit中表达。不难发现其本质就是对上述两个等概率系统中的**事件个数**取了一个对数：

$$
\log_2n
$$
> **n：事件个数**

​	而信息熵公式就可以被用来计算上述数值，但需要注意的是，这里由信息熵公式计算出的值是一个理想化的值，就如同操作系统中页面替换算法的OPT算法一样，他们都给出了最佳值，而后设计的各种算法都应该尽可能的去靠近其计算出来的值，越靠近则算法越优秀。

​	此时还有一个问题没有解决：信息熵公式是被放在了一个等概率模型下计算的。而现实中很少出现这种等概率模型，那么此时我们是否有方法将一个不等概率的模型转化为一个等概率模型呢？


​	当我们拿到一个概率系统中的某一个事件发生的概率时，我们一般可以通过对这个概率取倒数，从而反推出这个系统中一共有多少个事件【事件个数】。如：摸出红球的概率是1/5时，则可以推测一共有5个球【暂不考虑约分】，同样的在摸出红球的概率是3/5时，则可以推测一共有1.67个球【现实不存在，但理论中存在】。

​	有了上面对事件个数的逆推就可以将任何一个不等概率的系统转为等概率系统，依旧以上面硬币的例子来说，假如此时硬币掷到正面的概率是0.8，而掷到背面的概率是0.2。我们不妨将掷到正反面的两种情况分开来看。将掷到背面的事件看成从5个球中摸到一个球的事件【此时摸到每一个球的概率就都是相等的了，而**事件个数为5**】，同理掷到正面的事件就可以看成，从1.25个球中摸到一个球的事件【**事件个数是1.25**】。此时再将最开始的硬币和转盘的信息压缩方法使用一下即可以得到：
$$
\log_2{\frac{1}{p(x)}}
$$

> **x：某个事件**
>
> **p(x)：该事件发生的可能性**

​	通过上面的计算我们便可以得到一个概率为`P(x)`的事件x，如果以二进制进行信息压缩，需要的bit数量。但是还缺少一点，即该事件在p不等于1的情况下，并不是百分百发生的，所以需要在这个bit数的前面乘以该事件发生的概率，最终再将整个系统中所有的事件都按照这个流程算的相加即可得到下面的公式：
$$
H(x)=p(x_1)\log_2{\frac{1}{p(x_1)}}+p(x_2)\log_2{\frac{1}{p(x_2)}}+{\cdots}+p(x_n)\log_2{\frac{1}{p(x_n)}}
$$

​	最后便是对公式的化简，利用对数的特性将`P(x)`的-1次幂拿下来即可。
$$
H(x)=-\sum_{x\in X}{p(x)}\log_2p(x)
$$

​	有了上述公式，不妨实践一下，依旧是掷硬币

1. 掷到正面的概率是0.8，掷到背面的概率是0.2
   $$
   H(x)=-\sum_{x\in X}{p(x)}\log_2p(x)=0.8*log_2{\frac{1}{0.8}}+0.2*log_2{\frac{1}{0.2}}=0.72bit
   $$

2. 掷到正反面的概率都是0.5

$$
H(x)=-\sum_{x\in X}{p(x)}\log_2p(x)=0.5*log_2{\frac{1}{0.5}}+0.5*log_2{\frac{1}{0.5}}=1bit
$$

​	通过上述实践我们不难发现，其实不等概率的硬币掷出的结果的信息熵竟然比等概率的小，而这也恰恰说明了最开始上面所说的：

> 信息熵的值越大，则说明这些情况的概率分布越分散【换句话说就是情况的确定程度越小】，而信息熵的值越小，则说明这些情况的概率分布越集中【换句话说就是情况的确定程度越大】

​	再就是，上述实践中的第一种情况虽然最终算的的信息熵是一个小数，但在现实中由于无法实现，所以依旧会向上取整，取到1 bit。

## 具体应用

> 主要参考视频：https://www.bilibili.com/video/BV1oX4y1w7aG/
